@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* Safe area padding for mobile devices with notches */
.pb-safe {
  padding-bottom: max(1rem, env(safe-area-inset-bottom));
}

.pt-safe {
  padding-top: max(0.75rem, env(safe-area-inset-top));
}

/* Mobile tap target sizes */
@media (max-width: 640px) {
  button,
  input[type="checkbox"],
  select {
    min-height: 44px;
  }

  input[type="text"],
  input[type="number"],
  textarea {
    font-size: 16px; /* Prevents iOS zoom on focus */
  }
}

/* Hide scrollbar on mobile chat */
@media (max-width: 768px) {
  .overflow-y-auto {
    -webkit-overflow-scrolling: touch;
  }
}

/* ===== Colorblind Accessibility Styles ===== */
/*
 * Research-backed color palettes for the 3 most common types of colorblindness:
 * - Deuteranopia (green-weak): Uses blue/orange contrast
 * - Protanopia (red-weak): Uses blue/yellow contrast
 * - Tritanopia (blue-yellow): Uses magenta/cyan contrast
 */

/* Default highlight colors (normal vision) */
:root {
  --highlight-primary: #7c3aed; /* purple-600 */
  --highlight-primary-hover: #000000;
  --highlight-bg: rgba(124, 58, 237, 0.15);
  --highlight-border: rgba(124, 58, 237, 0.4);
  --highlight-text: #5b21b6; /* purple-800 */
}

/* Deuteranopia (red-green, green-weak) - ~6% of males */
/* Uses high-contrast blue and orange palette */
[data-colorblind-mode="deuteranopia"] {
  --highlight-primary: #0077bb; /* accessible blue */
  --highlight-primary-hover: #005588;
  --highlight-bg: rgba(0, 119, 187, 0.2);
  --highlight-border: rgba(0, 119, 187, 0.5);
  --highlight-text: #004466;
}

/* Protanopia (red-green, red-weak) - ~2% of males */
/* Uses blue and yellow/amber palette */
[data-colorblind-mode="protanopia"] {
  --highlight-primary: #0077bb; /* accessible blue */
  --highlight-primary-hover: #005588;
  --highlight-bg: rgba(0, 119, 187, 0.2);
  --highlight-border: rgba(0, 119, 187, 0.5);
  --highlight-text: #004466;
}

/* Tritanopia (blue-yellow) - ~0.01% of population */
/* Uses magenta/pink and teal palette */
[data-colorblind-mode="tritanopia"] {
  --highlight-primary: #cc3399; /* magenta/pink */
  --highlight-primary-hover: #991166;
  --highlight-bg: rgba(204, 51, 153, 0.18);
  --highlight-border: rgba(204, 51, 153, 0.45);
  --highlight-text: #881155;
}

/* Selection Help Button colorblind-aware styles */
.colorblind-highlight-btn {
  background-color: var(--highlight-primary);
}

.colorblind-highlight-btn:hover {
  background-color: var(--highlight-primary-hover);
}

/* Text selection highlight for colorblind modes */
[data-colorblind-mode="deuteranopia"] ::selection,
[data-colorblind-mode="protanopia"] ::selection {
  background-color: rgba(0, 119, 187, 0.35);
  color: #002244;
}

[data-colorblind-mode="tritanopia"] ::selection {
  background-color: rgba(204, 51, 153, 0.35);
  color: #440033;
}

/* Color preview swatches in the toggle dropdown */
.colorblind-highlight-preview-deuteranopia {
  background: linear-gradient(90deg, #0077bb 0%, #0099dd 100%);
}

.colorblind-highlight-preview-protanopia {
  background: linear-gradient(90deg, #0077bb 0%, #0099dd 100%);
}

.colorblind-highlight-preview-tritanopia {
  background: linear-gradient(90deg, #cc3399 0%, #ee55bb 100%);
}
